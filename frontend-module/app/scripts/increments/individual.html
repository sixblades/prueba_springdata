<article class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="article" role="main">
	<section class="main_content">
		<div role="region" class="centerGeneral">
      <div class="table_titulo col-xs-12">
        <h2 translate>increments.individual.title</h2>
      </div>
			<div class="form-horizontal section_increments col-xs-12">
				<div class="form-group col-sm-6">
					<label class="col-sm-5 col-lg-3 control-label" translate>increments.combo.employees</label>
          <div class="col-sm-5 col-lg-9">
  					<select class="form-control"
  							ng-model="IndividualCtrl.employeeId"
  							ng-options="empleado.id as empleado.firstSurname + ' ' + empleado.secondSurname + ', ' + empleado.name for empleado in IndividualCtrl.employees"
  							ng-change="IndividualCtrl.changeEmployeeCombo()">
  							<option value="" translate>increments.combo.employees.default</option>
  					</select>
          </div>
				</div>
				<div class="form-group col-sm-6" data-ng-if="IndividualCtrl.employeeId" >
					<label class="col-sm-5 col-lg-3 control-label" translate>increments.combo.years</label>
          <div class="col-sm-5 col-lg-9">
  					<select class="form-control"
  							ng-model="IndividualCtrl.retribution"
  							ng-options="retribution.year for retribution in IndividualCtrl.retributions"
  							ng-change="IndividualCtrl.changeYearsCombo()">
  							<option value="" translate>increments.combo.years.default</option>
  					</select>
          </div>
				</div>
			</div>
		</div>
    <div data-ng-if="IndividualCtrl.showInfo">
      <div class="separator"></div>
			<div class="form-horizontal">
				<div class="form-group col-sm-6">
					<label class="col-sm-5 col-lg-3 control-label" translate>increments.info.area</label>
					<div class="col-sm-7 col-lg-9">
            <input type="text" class="form-control" readonly value="{{IndividualCtrl.employeeInfo.area}}"/>
          </div>
				</div>
				<div class="form-group col-sm-6">
					<label class="col-sm-5 col-lg-3 control-label" translate>increments.info.puesto</label>
					<div class="col-sm-7 col-lg-9">
            <input type="text" class="form-control" readonly value="{{IndividualCtrl.employeeInfo.job | translate}}"/>
          </div>
				</div>
				<div class="form-group col-sm-6">
					<label class="col-sm-5 col-lg-3 control-label" translate>increments.info.bandasalarial</label>
					<div class="col-sm-7 col-lg-9">
            <input type="text" class="form-control" readonly value="{{IndividualCtrl.employeeInfo.wageBand}}"/>
          </div>
				</div>
				<div class="form-group col-sm-6">
					<label class="col-sm-5 col-lg-3 control-label" translate>increments.info.fija</label>
					<div class="col-sm-7 col-lg-9">
            <input type="text" class="form-control" readonly value="{{IndividualCtrl.retributionInfo.annualGrossIncome}}"/>
          </div>
				</div>
        <div class="form-group col-sm-6">
          <label class="col-sm-5 col-lg-3 control-label" translate>increments.info.especie</label>
          <div class="col-sm-7 col-lg-9">
            <input type="text" class="form-control" readonly value="{{IndividualCtrl.retributionInfo.annualSocialProfits}}"/>
          </div>
        </div>
				<div class="form-group col-sm-6">
					<label class="col-sm-5 col-lg-3 control-label" translate>increments.info.total</label>
					<div class="col-sm-7 col-lg-9">
            <input type="text" class="form-control" readonly value="{{IndividualCtrl.retributionInfo.annualTotalIncome}}"/>
          </div>
				</div>
      </div>

      <div class="separator"></div>

      <div class="table_titulo col-xs-12">
        <h3 translate>increments.evaluation.title</h3>
      </div>

      <div class="section_increments form-horizontal col-xs-12">
        <div class="form-group col-sm-6">
          <label class="col-sm-8 control-label" translate>increments.evaluation.employe</label>
          <div class="col-sm-2">
            <input type="text" class="form-control text-center" value="{{IndividualCtrl.employeeInfo.evaluationMark}}"/>
          </div>
        </div>
        <div class="form-group col-sm-6">
          <div class="col-lg-6 col-lg-offset-3 col-sm-12">
            <textarea class="form-control" rows="3">
                {{IndividualCtrl.employeeInfo.evaluationObs}}
            </textarea>
          </div>
        </div>
      </div>

      <div class="table_titulo col-xs-12">
        <h3 translate="increments.position.title" translate-values="{{IndividualCtrl.retribution.year}}"></h3>
      </div>

      <div class="section_increments col-xs-12">
        <div class="col-sm-6">
          <dl class="col-lg-8 col-lg-offset-2 col-sm-12">
            <dt class="col-xs-8 table_titulo" translate>increments.position.band</dt>
            <dd class="col-xs-4 pull-right text-center"><strong>{{IndividualCtrl.employeeInfo.wageBand}}</strong></dd>
            <dt class="col-xs-8" translate>increments.position.min</dt>
            <dd class="col-xs-4 pull-right text-center">{{IndividualCtrl.employeeInfo.wageBandLimits.minValue}}</dd>
            <dt class="col-xs-8" translate>increments.position.ave</dt>
            <dd class="col-xs-4 pull-right text-center">{{IndividualCtrl.employeeInfo.wageBandLimits.medValue}}</dd>
            <dt class="col-xs-8" translate>increments.position.max</dt>
            <dd class="col-xs-4 pull-right text-center">{{IndividualCtrl.employeeInfo.wageBandLimits.maxValue}}</dd>
          </dl>

          <dl class="col-lg-8 col-lg-offset-2 col-sm-12">
            <dt class="col-xs-8 table_titulo" translate>increments.position.employe</dt>
            <dd class="col-xs-4 pull-right text-center">{{IndividualCtrl.P.actual}}</dd>
          </dl>

          <dl class="col-lg-8 col-lg-offset-2 col-sm-12">
            <dd class="col-xs-12 text-center">
              {{IndividualCtrl.P.msg | translate}}
            </dd>
          </dl>


        </div>
        <div class="col-sm-6">
          <div class="col-xs-12">
            <canvas tc-chartjs-line chart-options="IndividualCtrl.ChartOptions" chart-data="IndividualCtrl.ChartConf" auto-legend></canvas>
          </div>
        </div>
      </div>

      <div class="table_titulo col-xs-12">
        <h3 translate>increments.increment.title</h3>
      </div>

      <div class="section_increments form-horizontal col-xs-12">
        <div class="col-lg-6">
          <dl class="col-lg-6 col-lg-offset-3 col-sm-12 pull-xs-left">
            <dt class="col-xs-8 table_titulo" translate>increments.increment.general</dt>
            <dd class="col-xs-4 pull-right text-center">{{IndividualCtrl.employeeInfo.generalIncrease}}%</dd>
          </dl>

          <dl class="col-lg-8 col-lg-offset-3 col-sm-12 pull-xs-left">
            <dt class="col-xs-9 table_titulo" translate>increments.increment.percent</dt>
            <dd class="col-xs-3 pull-right text-center pull-xs-left">{{IndividualCtrl.percentIncrease}}%</dd>
          </dl>

          <dl class="col-lg-8 col-lg-offset-3 col-sm-12 pull-xs-left">
            <dt class="col-xs-9 table_titulo" translate translate-values="{currencySymbol : IndividualCtrl.retributionInfo.currencyName}">increments.increment.euro</dt>
            <dd class="col-xs-3 pull-right text-center">{{IndividualCtrl.totalIncrease}}</dd>
          </dl>

          <dl class="col-lg-8 col-lg-offset-3 col-sm-12 pull-xs-left">
            <dt class="col-xs-9 table_titulo" translate translate-values="{currencySymbol : IndividualCtrl.retributionInfo.currencyName}">increments.increment.fixed</dt>
            <dd class="col-xs-3 pull-right text-center">{{IndividualCtrl.newGrossIncome}}</dd>
          </dl>

          <dl class="col-lg-8 col-lg-offset-3 col-sm-12 pull-xs-left">
            <dt class="col-xs-9 table_titulo" translate>increments.increment.def_percent</dt>
            <dd class="col-xs-3 pull-right text-center">{{IndividualCtrl.fixedPercentIncrease}}%</dd>
          </dl>

          <dl class="col-lg-8 col-lg-offset-3 col-sm-12 pull-xs-left">
            <dt class="col-xs-9 table_titulo" translate translate-values="{currencySymbol : IndividualCtrl.retributionInfo.currencyName}">increments.increment.def_euro</dt>
            <dd class="col-xs-3 pull-right text-center">{{IndividualCtrl.fixedTotalIncrease}}</dd>
          </dl>
        </div>

        <div class="col-lg-6">
          <table class="table table-bordered table_increments_individual text-center">
            <tr>
              <td rowspan="4" class="blue_span hidden-xs" translate>increments.increment.position</td>
              <td ng-class="IndividualCtrl.P.actual == 'P1' ? 'yellow_span' : 'green_span'">P1</td>
              <td ng-repeat="pInc in IndividualCtrl.employeeInfo.positionIncreases.P1 track by $index">{{pInc}} %</td>
            </tr>
            <tr>
              <td ng-class="IndividualCtrl.P.actual == 'P2' ? 'yellow_span' : 'green_span'">P2</td>
              <td ng-repeat="pInc in IndividualCtrl.employeeInfo.positionIncreases.P2 track by $index">{{pInc}} %</td>
            </tr>
            <tr>
              <td ng-class="IndividualCtrl.P.actual == 'P3' ? 'yellow_span' : 'green_span'">P3</td>
              <td ng-repeat="pInc in IndividualCtrl.employeeInfo.positionIncreases.P3 track by $index">{{pInc}} %</td>
            </tr>
            <tr>
              <td ng-class="IndividualCtrl.P.actual == 'P4' ? 'yellow_span' : 'green_span'">P4</td>
              <td ng-repeat="pInc in IndividualCtrl.employeeInfo.positionIncreases.P4 track by $index">{{pInc}} %</td>
            </tr>
            <tr>
              <td colspan="2" rowspan="2" class="hidden-xs"></td>
              <td class="visible-xs"></td>
              <td ng-class="IndividualCtrl.employeeInfo.evaluationMark == 'F' ? 'yellow_span' : 'green_span'">F</td>
              <td ng-class="IndividualCtrl.employeeInfo.evaluationMark == 'B' ? 'yellow_span' : 'green_span'">B</td>
              <td ng-class="IndividualCtrl.employeeInfo.evaluationMark == 'A' ? 'yellow_span' : 'green_span'">A</td>
              <td ng-class="IndividualCtrl.employeeInfo.evaluationMark == 'A+' ? 'yellow_span' : 'green_span'">A+</td>
              <td ng-class="IndividualCtrl.employeeInfo.evaluationMark == 'A++' ? 'yellow_span' : 'green_span'">A++</td>
            </tr>
            <tr>
              <td colspan="5" class="blue_span hidden-xs" translate>increments.increment.perfomance</td>
            </tr>
          </table>
        </div>
      </div>

      <div class="col-xs-12 text-center">
        <button class="boton_general mt_20" ng-click="IndividualCtrl.goToEvaluation()" translate>increments.increment.show_eva</button>
      </div>

		</div>
	</section>
    
  <div id="myModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">{{IndividualCtrl.Modal.title | translate}}</h4>
        </div>
        <div class="modal-body">
            <p>{{IndividualCtrl.Modal.msg | translate}}</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default boton_general" ng-click="IndividualCtrl.Modal.action()" data-dismiss="modal">{{IndividualCtrl.Modal.button | translate}}</button>
        </div>
        </div>
    </div>  
  </div>
</article>
