<article class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id=article role=main> <section class=main_content> <div role=region class=centerGeneral> <div class="table_titulo col-xs-12"> <h2 translate>increments.multiple.title</h2> </div> <div class="form-horizontal section_increments col-xs-12"> <div class="form-group col-sm-6"> <label class="col-sm-5 col-lg-3 control-label" translate>increments.combo.management</label> <div class="col-sm-5 col-lg-9"> <select class=form-control ng-model=MultipleCtrl.direction ng-options="direction as direction.name for direction in MultipleCtrl.directions track by direction.id" ng-change=MultipleCtrl.changeDirectionCombo()> <option value="" translate>increments.combo.management.default </select> </div> </div> <div class="form-group col-sm-6"> <label class="col-sm-5 col-lg-3 control-label" translate>increments.combo.years</label> <div class="col-sm-5 col-lg-9"> <select class=form-control ng-model=MultipleCtrl.year ng-options="date for date in MultipleCtrl.listDate" ng-change=MultipleCtrl.changeYearsCombo()> <option value="" translate>increments.combo.years.default </select> </div> </div> <div class="form-group col-sm-6"> <label class="col-sm-5 col-lg-3 control-label" translate>increments.combo.area</label> <div class="col-sm-5 col-lg-9"> <select class=form-control ng-model=MultipleCtrl.area ng-options="area.id as area.name for area in MultipleCtrl.areas track by area.id"> <option value="" translate>increments.combo.area.default </select> </div> </div> <div class="form-group col-sm-6"> <label class="col-sm-5 col-lg-3 control-label" translate>increments.check.confirm</label> <div class="col-sm-5 col-lg-9"> <label class=checkB ng-class="{'checkedB':MultipleCtrl.confirmed}"> <input type=checkbox ng-model=MultipleCtrl.confirmed value=true> <label> </label></label></div> </div> <div class="form-group col-sm-6"> <div class="col-sm-5 col-lg-9"> <button type=button ng-click=MultipleCtrl.searchIncreases() class=boton_general>Busca</button> </div> </div> </div> </div> <div data-ng-if=MultipleCtrl.showTables> <table class="table table_consulta multiple_table"> <tr> <th translate>increments.multiple.employe <th translate>increments.multiple.evaluation <th translate>increments.multiple.band <th translate>increments.multiple.position <th translate>increments.multiple.position2 <th translate>increments.multiple.actual_fixed <th translate>increments.multiple.increment_percent <th translate translate-values="{currency: MultipleCtrl.direction.currencySymbol}">increments.multiple.increment <th translate>increments.multiple.increment_percent_personal <th translate translate-values="{currency: MultipleCtrl.direction.currencySymbol}">increments.multiple.increment_personal <th translate>increments.multiple.increment_percent_final <th translate translate-values="{currency: MultipleCtrl.direction.currencySymbol}">increments.multiple.increment_final <th translate translate-values="{year: MultipleCtrl.year}">increments.multiple.total_next <th translate>increments.multiple.confirmed  <tr ng-repeat="info in MultipleCtrl.employeesInfo"> <td class=no_wrap>{{info.employeeName}} <td>{{info.evaluationMark}} <td>{{info.wageBand}} <td class=no_wrap>{{info.jobName | translate}} <td>{{info.positionIncrease}} <td> <div>{{info.actualIncome | NumericFilter}}</div>  <td><div>{{info.salaryIncreasePercent | NumericFilter}}%</div> <td><div>{{info.salaryIncrease | NumericFilter}}</div> <td> <div ng-if=info.confirmed>{{info.customSalaryIncreasePercent}}</div> <div ng-if=!info.confirmed><input type=text ng-change=MultipleCtrl.changeValuePercent(info) ng-model-options="{updateOn:'blur'}" ng-model=info.customSalaryIncreasePercent></div>  <td> <div ng-if=info.confirmed>{{info.customSalaryIncrease}}</div> <div ng-if=!info.confirmed><input type=text ng-change=MultipleCtrl.changeValueNumeric(info) ng-model-options="{updateOn:'blur'}" ng-model=info.customSalaryIncrease> </div>  <td><div>{{info.finalSalaryIncreasePercent | NumericFilter}}%</div> <td><div>{{info.finalSalaryIncrease | NumericFilter }}</div> <td><div>{{info.finalIncome | NumericFilter}}</div> <td><input type=checkbox ng-model=info.confirmed ng-change=MultipleCtrl.changeConfirmed(info) ng-checked=info.confirmed>  </table> <div class="col-xs-12 text-center"> <button class="boton_general mt_20" ng-if=MultipleCtrl.confirmedServer ng-click=MultipleCtrl.confirmIncrements() translate>Confirmar Incrementos</button> <button class="boton_general mt_20" ng-if="MultipleCtrl.confirmedList.length>0" ng-click=MultipleCtrl.saveConfirmed() translate>Guardar confirmados</button> <button class="boton_general mt_20" ng-click=MultipleCtrl.getPDFFile() translate>PDF</button> <button class="boton_general mt_20" ng-click=MultipleCtrl.getXLSFile() translate>EXCEL</button> </div> </div> </section> <div id=myModal class="modal fade" tabindex=-1 role=dialog> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true>&times;</span></button> <h4 class=modal-title>{{MultipleCtrl.Modal.title | translate}}</h4> </div> <div class=modal-body> <p>{{MultipleCtrl.Modal.msg | translate}}</p> </div> <div class=modal-footer> <button type=button class="btn btn-default boton_general" ng-click=MultipleCtrl.Modal.action() data-dismiss=modal>{{MultipleCtrl.Modal.button | translate}}</button> </div> </div> </div> </div> </article>