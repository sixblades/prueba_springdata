{"version":3,"sources":["../../../app/scripts/evaluation/evaluation.service.js"],"names":[],"mappings":"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","file":"evaluation.service.js","sourcesContent":["/* jshint -W097 */\r\n/* globals angular, $, Mentoring*/\r\n'use strict';\r\n\r\nangular.module('mentoringApp').factory('CalculateEvaluationResult', function ($resource) {\r\n\treturn $resource('api/calculateEvaluationResult/:employeeId/:evaluationId/:year', {}, {\r\n\t\t'get': {method: 'GET'}\r\n\t});\r\n})\r\n.factory('EmpleadosAE', function ($resource) {\r\n\treturn $resource('api/allocationLeaderDate/:leaderId', {}, Mentoring.resourceHandler);\r\n})\r\n.factory('EmpleadosEvaluables', function ($resource) {\r\n\treturn $resource('api/employeeEvaluable', {}, Mentoring.resourceHandler);\r\n})\r\n.factory('LastEvaluationAssigned', function ($resource) {\r\n\treturn $resource('api/lastEvalAssigned/:employeeId/:leaderId', {}, {\r\n\t\t'get': {method: 'GET'}\r\n\t});\r\n})\r\n.factory('LastEvaluationAssignedWithEvalType', function ($resource) {\r\n\treturn $resource('api/lastEvalAssignedWithEvalType/:employeeId/:leaderId/:evaluationType', {}, {\r\n\t\t'get': { method: 'GET' }\r\n\t});\r\n})\r\n.factory('AnswersSelect', function ($resource) {\r\n\treturn $resource('api/answersSelect/:id', {}, Mentoring.resourceHandler);\r\n})\r\n.factory('EvaluationId', function ($resource) {\r\n\treturn $resource('api/evaluationId/:id', {}, Mentoring.resourceHandler);\r\n})\r\n.factory('isEvaluationDate', function ($resource) {\r\n\treturn $resource('api/isEvaluationDate', {}, Mentoring.resourceHandlerGET);\r\n})\r\n.factory('EvaluationYear', function ($resource) {\r\n\treturn $resource('api/evaluationYear', {}, Mentoring.resourceHandlerGET);\r\n})\r\n.factory('isFinalEvaluationDate', function ($resource) {\r\n\treturn $resource('api/isFinalEvaluationDate', {}, Mentoring.resourceHandlerGET);\r\n})\r\n.factory('getFinalEvaluationDate', function ($resource) {\r\n\treturn $resource('api/isEvaluationDate', {}, {\r\n\t\tgetDateFinalEvaluationFrom: {url: 'api/evaluationFinalDateFrom', method: 'get'},\r\n\t\tgetDateFinalEvaluationTo: {url: 'api/evaluationFinalDateTo', method: 'get'},\r\n\t\tisFinalEvaluationDate: {url: 'api/isFinalEvaluationDate', method: 'get'}\r\n\t});\r\n})\r\n.factory('GetLastAutoEvalByEmployeeId', function ($resource) {\r\n\treturn $resource('api/getLastAutoEvalByEmployeeId/:employeeId', {}, Mentoring.resourceHandler);\r\n})\r\n.factory('AnswersEval', function ($http) {\r\n\treturn {\r\n\t\tguardar: function (datos) {\r\n\t\t\treturn $http.post('api/answerss', datos, {})\r\n\t\t\t\t.success(function (response) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tguardar2: function (datos) {\r\n\t\t\treturn $http.post('api/evaluation', datos, {})\r\n\t\t\t\t.success(function (response) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tguardar3: function (datos) {\r\n\t\t\treturn $http.post('api/answersSelect', datos, {})\r\n\t\t\t\t.success(function (response) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t//SET ANSWERS TO SEND\r\n\t\tagrupar: function (datos, id, finalEvaluation) {\r\n\t\t\tvar respuestaJSON = {\r\n\t\t\t\tid: id,\r\n\t\t\t\trespuestas: []\r\n\t\t\t};\r\n\t\t\tfor (var i in datos) {\r\n\t\t\t\tif (typeof datos[i] != \"undefined\") {\r\n\t\t\t\t\tvar element = {\r\n\t\t\t\t\t\tquestionId: i,\r\n\t\t\t\t\t\tstatesId: datos[i]\r\n\t\t\t\t\t};\r\n\t\t\t\t\trespuestaJSON.respuestas.push(element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//return angular.toJson(respuestaJSON);\r\n            return respuestaJSON;\r\n\t\t},\r\n\t\t//SET EVALUATION TO SEND\r\n\t\tagrupar2: function (datos, evaluator, employee, observaciones, observacionesEvaluador, evaluationType, finalEvaluation, idEvaluation) {\r\n\t\t\t// firfox undefined fix\r\n\t\t\tobservaciones = observaciones || '';\r\n\t\t\tobservacionesEvaluador = observacionesEvaluador || '';\r\n\r\n\t\t\tvar fecha = new Date();\r\n\t\t\tvar year = fecha.getFullYear();\r\n\t\t\tvar idUser2 = null;\r\n\t\t\tif (finalEvaluation) {\r\n\t\t\t\tidUser2 = \"Final-\" + employee.toString() + \"-\" + evaluator.toString() + \"-\" + year.toString();\r\n\t\t\t} else {\r\n\t\t\t\tidUser2 = \"Eval-\" + employee.toString() + \"-\" + evaluator.toString() + \"-\" + year.toString();\r\n\t\t\t}\r\n\t\t\tvar answerId = idUser2;\r\n\t\t\tvar employeeId = employee;\r\n\t\t\tvar leaderId = evaluator;\r\n\t\t\tvar userAdd = evaluator;\r\n\t\t\tvar respuestaJSON2 = {\r\n\t\t\t\tanswerId: answerId,\r\n\t\t\t\temployeeId: employeeId,\r\n\t\t\t\tleaderId: leaderId,\r\n\t\t\t\tuserAdd: userAdd,\r\n\t\t\t\tobservaciones: observaciones,\r\n                observacionesEvaluador: observacionesEvaluador,\r\n\t\t\t\tevaluationType: evaluationType\r\n\t\t\t};\r\n\t\t\tif (!Mentoring.isUndefinedOrNull(idEvaluation)) {\r\n\t\t\t\trespuestaJSON2.id = idEvaluation;\r\n\t\t\t}\r\n\t\t\treturn respuestaJSON2;\r\n\t\t},\r\n\t\t//SET ANSWERS FROM COMBOS TO SEND\r\n\t\tagrupar3: function (id, selectNum, questionCod, finalEvaluation) {\r\n\t\t\tvar esFinal = 0;\r\n\t\t\tvar respuestaJSONarray = [];\r\n\t\t\tif (finalEvaluation) {\r\n\t\t\t\tesFinal = 1;\r\n\t\t\t}\r\n\t\t\tfor (var a in questionCod) {\r\n\t\t\t\tvar respuestaJSON2 = {\r\n\t\t\t\t\tid: {\r\n\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\tselectNum: selectNum\r\n\t\t\t\t\t},\r\n\t\t\t\t\tquestionCode: questionCod[a]\r\n\t\t\t\t};\r\n\t\t\t\tselectNum++;\r\n\t\t\t\trespuestaJSONarray.push(respuestaJSON2);\r\n\t\t\t}\r\n\t\t\treturn respuestaJSONarray;\r\n\t\t}\r\n\t};\r\n})\r\n.factory('SharingEvaluationService', function () {\r\n\tthis.id = null;\r\n\tthis.esModifiable = null;\r\n\tthis.evaluado = null;\r\n\r\n\tvar getId = function () {\r\n\t\treturn this.id;\r\n\t};\r\n\tvar setId = function (id) {\r\n\t\tthis.id = id;\r\n\t};\r\n\t\r\n\treturn {\r\n\t\tsetId: setId,\r\n\t\tgetId: getId,\r\n\t\tsetModification: function (esModificable) {\r\n\t\t\tthis.esModificable = esModificable;\r\n\t\t},\r\n\t\tgetModification: function () {\r\n\t\t\treturn this.esModificable;\r\n\t\t},\r\n\t\tgetEvaluado: function () {\r\n\t\t\treturn this.evaluado;\r\n\t\t},\r\n\t\tsetEvaluado: function (evaluado) {\r\n\t\t\tthis.evaluado = evaluado;\r\n\t\t}\r\n\t};\r\n});"]}