{"version":3,"sources":["../../../../app/scripts/account/register/register.controller.js"],"names":[],"mappings":";;AAEA,YAAY,CAAC;AACb,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,CACzB,UAAU,CAAC,oBAAoB,EAAE,UAAU,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE;AAC5E,UAAM,CAAC,OAAO,GAAG,IAAI,CAAC;AACtB,UAAM,CAAC,KAAK,GAAG,IAAI,CAAC;AACpB,UAAM,CAAC,UAAU,GAAG,IAAI,CAAC;AACzB,UAAM,CAAC,eAAe,GAAG,IAAI,CAAC;AAC9B,UAAM,CAAC,eAAe,GAAG,EAAE,CAAC;AAC5B,YAAQ,CAAC,YAAW;AAAC,eAAO,CAAC,OAAO,CAAC,oCAAoC,CAAC,CAAC,KAAK,EAAE,CAAC;KAAC,CAAC,CAAC;;AAEtF,UAAM,CAAC,QAAQ,GAAG,YAAY;AAC1B,YAAI,MAAM,CAAC,eAAe,CAAC,QAAQ,KAAK,MAAM,CAAC,eAAe,EAAE;AAC5D,kBAAM,CAAC,UAAU,GAAG,OAAO,CAAC;SAC/B,MAAM;AACH,kBAAM,CAAC,eAAe,CAAC,OAAO,GAAG,UAAU,CAAC,GAAG,EAAE,CAAC;AAClD,kBAAM,CAAC,UAAU,GAAG,IAAI,CAAC;AACzB,kBAAM,CAAC,KAAK,GAAG,IAAI,CAAC;AACpB,kBAAM,CAAC,eAAe,GAAG,IAAI,CAAC;AAC9B,kBAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC;;AAE/B,gBAAI,CAAC,aAAa,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,YAAY;AACxD,sBAAM,CAAC,OAAO,GAAG,IAAI,CAAC;aACzB,CAAC,SAAM,CAAC,UAAU,QAAQ,EAAE;AACzB,sBAAM,CAAC,OAAO,GAAG,IAAI,CAAC;AACtB,oBAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,IAAI,QAAQ,CAAC,IAAI,KAAK,sBAAsB,EAAE;AACrE,0BAAM,CAAC,eAAe,GAAG,OAAO,CAAC;iBACpC,MAAM,IAAI,QAAQ,CAAC,MAAM,KAAK,GAAG,IAAI,QAAQ,CAAC,IAAI,KAAK,+BAA+B,EAAE;AACrF,0BAAM,CAAC,gBAAgB,GAAG,OAAO,CAAC;iBACrC,MAAM;AACH,0BAAM,CAAC,KAAK,GAAG,OAAO,CAAC;iBAC1B;aACJ,CAAC,CAAC;SACN;KACJ,CAAC;CACL,CAAC,CAAC","file":"register.controller.js","sourcesContent":["/* jshint -W097 */\n/* globals angular, $*/\n'use strict';\nangular.module('mentoringApp')\n    .controller('RegisterController', function ($scope, $translate, $timeout, Auth) {\n        $scope.success = null;\n        $scope.error = null;\n        $scope.doNotMatch = null;\n        $scope.errorUserExists = null;\n        $scope.registerAccount = {};\n        $timeout(function (){angular.element('[ng-model=\"registerAccount.login\"]').focus();});\n\n        $scope.register = function () {\n            if ($scope.registerAccount.password !== $scope.confirmPassword) {\n                $scope.doNotMatch = 'ERROR';\n            } else {\n                $scope.registerAccount.langKey = $translate.use();\n                $scope.doNotMatch = null;\n                $scope.error = null;\n                $scope.errorUserExists = null;\n                $scope.errorEmailExists = null;\n\n                Auth.createAccount($scope.registerAccount).then(function () {\n                    $scope.success = 'OK';\n                }).catch(function (response) {\n                    $scope.success = null;\n                    if (response.status === 400 && response.data === 'login already in use') {\n                        $scope.errorUserExists = 'ERROR';\n                    } else if (response.status === 400 && response.data === 'e-mail address already in use') {\n                        $scope.errorEmailExists = 'ERROR';\n                    } else {\n                        $scope.error = 'ERROR';\n                    }\n                });\n            }\n        };\n    });\n"]}