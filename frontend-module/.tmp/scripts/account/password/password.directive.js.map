{"version":3,"sources":["../../../../app/scripts/account/password/password.directive.js"],"names":[],"mappings":"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","file":"password.directive.js","sourcesContent":["/* jshint -W097 */\n/* globals angular, $*/\n'use strict';\nangular.module('mentoringApp')\n    .directive('passwordStrengthBar', function () {\n        return {\n            replace: true,\n            restrict: 'E',\n            template: '<div id=\"strength\">' +\n                '<small translate=\"global.messages.validate.newpassword.strength\">Password strength:</small>' +\n                '<ul id=\"strengthBar\">' +\n                '<li class=\"point\"></li><li class=\"point\"></li><li class=\"point\"></li><li class=\"point\"></li><li class=\"point\"></li>' +\n                '</ul>' +\n                '</div>',\n            link: function (scope, iElement, attr) {\n                var strength = {\n                    colors: ['#F00', '#F90', '#FF0', '#9F0', '#0F0'],\n                    mesureStrength: function (p) {\n\n                        var _force = 0;\n                        var _regex = /[$-/:-?{-~!\"^_`\\[\\]]/g; // \"\n\n                        var _lowerLetters = /[a-z]+/.test(p);\n                        var _upperLetters = /[A-Z]+/.test(p);\n                        var _numbers = /[0-9]+/.test(p);\n                        var _symbols = _regex.test(p);\n\n                        var _flags = [_lowerLetters, _upperLetters, _numbers, _symbols];\n                        var _passedMatches = $.grep(_flags, function (el) {\n                            return el === true;\n                        }).length;\n\n                        _force += 2 * p.length + ((p.length >= 10) ? 1 : 0);\n                        _force += _passedMatches * 10;\n\n                        // penality (short password)\n                        _force = (p.length <= 6) ? Math.min(_force, 10) : _force;\n\n                        // penality (poor variety of characters)\n                        _force = (_passedMatches === 1) ? Math.min(_force, 10) : _force;\n                        _force = (_passedMatches === 2) ? Math.min(_force, 20) : _force;\n                        _force = (_passedMatches === 3) ? Math.min(_force, 40) : _force;\n\n                        return _force;\n\n                    },\n                    getColor: function (s) {\n\n                        var idx = 0;\n                        if (s <= 10) {\n                            idx = 0;\n                        }\n                        else if (s <= 20) {\n                            idx = 1;\n                        }\n                        else if (s <= 30) {\n                            idx = 2;\n                        }\n                        else if (s <= 40) {\n                            idx = 3;\n                        }\n                        else {\n                            idx = 4;\n                        }\n\n                        return { idx: idx + 1, col: this.colors[idx] };\n                    }\n                };\n                scope.$watch(attr.passwordToCheck, function (password) {\n                    if (password) {\n                        var c = strength.getColor(strength.mesureStrength(password));\n                        iElement.removeClass('ng-hide');\n                        iElement.find('ul').children('li')\n                            .css({ 'background': '#DDD' })\n                            .slice(0, c.idx)\n                            .css({ 'background': c.col });\n                    }\n                });\n            }\n        };\n    });\n"]}